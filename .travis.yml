language: dart

dist: bionic

before_install:
  - sudo apt-get -y install wget
  - sudo apt-get -y install tar

install:
  - wget https://storage.googleapis.com/flutter_infra/releases/beta/linux/flutter_linux_v1.15.17-beta.tar.xz
  - tar -xf flutter_linux_v1.15.17-beta.tar.x
  - ./flutter/bin/flutter version v1.15.17
  - ./flutter/bin/flutter doctor
  - ./flutter/bin/flutter pub get
  - ./flutter/bin/cache/dart-sdk/bin/dartanalyzer lib | internal/static_analyzer.sh

script:
  - echo "Begin script"
  - ./flutter/bin/flutter test

cache:
  directories:
    - $HOME/.pub-cache
